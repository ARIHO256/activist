<template>
  <div class="py-5 card-style px-6">
    <div class="flex relative items-center gap-5">
      <h3 class="text-left responsive-h3 font-display">Get involved</h3>
      <Icon name="bi:pencil-square" size="1.2em" />
      <div class="absolute right-0 space-x-2">
        <LabeledBtn
          v-if="organization && organization.workingGroupURLs"
          :cta="true"
          label="View all groups"
          linkTo="/"
          fontSize="base"
        ></LabeledBtn>
        <LabeledBtn
          v-if="organization"
          :cta="true"
          label="Join organization"
          linkTo="/"
          fontSize="base"
        ></LabeledBtn>
      </div>
    </div>
    <div v-if="organization" class="mt-4">
      <div v-if="organization.workingGroupURLs">
        <p>
          The following are working groups within
          {{ organization.name }}:
        </p>
        <CardsFeed :feedItemURLs="organization.workingGroupURLs"></CardsFeed>
      </div>
      <div v-else>
        <p>
          Click "Join organization" above to get involved in
          {{ organization.name }}.
        </p>
      </div>
    </div>
    <div v-else-if="event" class="space-y-3 pt-3">
      <p>
        {{ event.getInvolvedDescription }}
      </p>
      <p>
        Please read the legal disclaimer below for more information on your
        rights during this event!
      </p>
      <CardsLegalDisclaimer></CardsLegalDisclaimer>
      <div class="pt-2">
        <LabeledBtn
          :cta="true"
          label="Offer to help"
          linkTo="/"
          fontSize="base"
        ></LabeledBtn>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import type { Event } from "../../types/event";
import type { Organization } from "../../types/organization";

defineProps<{
  organization?: Organization;
  event?: Event;
}>();
</script>
